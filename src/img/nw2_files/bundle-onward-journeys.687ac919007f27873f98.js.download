"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6424],{59317:function(e,t,r){r.r(t),r.d(t,{default:function(){return V}});var n=r(27378),i=r(15297),a=r(91738),o=r(61153),c=r(19960),s=r(28944),l=r(83933),u=r(62753),p=r(62999),m=r(21123),d=r(54295),g=r(72055),b=r(90811),h=r(53331),y=r(55775),v=r(57728),f=r(68442),w=r(10043),O=r(61557),P=r(55577);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S,j={base:{min:b.Yt,max:b.c1-1},small:{min:b.c1,max:b.Dq-1},medium:{min:b.Dq,max:b.W3-1},large:{min:b.W3,max:b.nP-1},xl:{min:b.nP,max:b.J8-1},xxl:{min:b.J8}},E=(e,t,r)=>{var n="(min-width: ".concat((0,g.s)(e),")"),i=t?"(max-width: ".concat((0,g.s)(t),")"):"",a=t?"".concat(n," and ").concat(i):n;return"@media ".concat(a," { ").concat(r," }")},I=(e,t)=>{var r=["top","right","bottom","left"],n={};return(0,w.iv)(Object.entries(j).map((i=>{var[a,o]=i,{min:c,max:s}=o;n=t[a]?k(k({},n),t[a]):n;var l=r.map((t=>{var r=n[t],i="".concat(e,"-").concat(t);return r?"".concat(i,": ").concat("auto"===r?r:u["SPACING_".concat(r)],";"):void 0})).filter(Boolean);return E(c,s,l.join(" "))})).join(" "))},D=["experimentationData","children"];function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R.apply(this,arguments)}function G(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var A=(0,f.default)("div",{target:"e1ia0oo99",label:"OnwardJourneysContainerWrapper"})("box-sizing:border-box;",(e=>{var{marginsByBreakpoint:t}=e;return I("margin",t)})," ",(e=>{var{paddingsByBreakpoint:t}=e;return I("padding",t)})," ",(e=>{var{sizeByBreakpoint:t}=e;return t&&(e=>{var t=["height","width","max-height","max-width"],r={};return(0,w.iv)(Object.entries(j).map((n=>{var[i,a]=n,{min:o,max:c}=a;r=e[i]?k(k({},r),e[i]):r;var s=t.map((e=>{var t=r[e];return t?"".concat(e,": ").concat((0,g.s)(b.$X["group-".concat(t)]),";"):void 0})).filter(Boolean);return E(o,c,s.join(" "))})).join(" "))})(t)}),";"),N=(0,f.default)("div",{target:"e1ia0oo98",label:"PromoGroupWrapper"})("margin-top:",u.SPACING_4,";",p.eV," ",m.oV," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";",(e=>{var t,r,{hasMaxReadableWidth:n}=e;return n&&(0,w.iv)(S||(t=["\n      max-width: ",";\n    "],r||(r=t.slice(0)),S=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))),h.q)}),">ul,ol{display:grid;column-gap:",u.SPACING_4,";",(e=>{var{columnsByBreakpoint:t,numberOfItems:r}=e;return(e=>{var t,{columnsByBreakpoint:r,numberOfItems:n}=e,i=k(k({},r),{},{base:r.base||1});return(0,w.iv)(Object.entries(j).map((e=>{var[r,a]=e,{min:o,max:c}=a;t=i[r]?i[r]:t;var s="\n          grid-template-columns: ".concat(1===t?"1fr":"repeat(".concat(2===n?"2":t,", 1fr)")," ;\n          ").concat(1===t&&1===n&&"li { margin-bottom: 0; }","\n          ").concat(t>1&&"padding-bottom: ".concat(u.SPACING_6),"\n        ");return E(o,c,s)})).join(" "))})({columnsByBreakpoint:t,numberOfItems:r})}),";>",d.b,"{margin-top:0;}}"),_=(0,f.default)("li",{target:"e1ia0oo97",label:"PromoItem"})((e=>{var{promoMarginsByBreakpoint:t}=e;return I("margin",t)})," ",(e=>{var{promoPaddingsByBreakpoint:t}=e;return t&&I("padding",t)})," border-top:",(e=>{var{promoWithRowDividerTop:t,promoRowDividerColor:r}=e;return t&&"1px solid ".concat((0,v.b)(r))}),";"),W=(0,f.default)("div",{target:"e1ia0oo96",label:"Disclaimer"})(m.pG,";"),H=(0,f.default)("span",{target:"e1ia0oo95",label:"IconContainer"})("display:inline-block;vertical-align:-0.11rem;margin-right:",(0,g.s)(2),";"),U=(0,f.default)("li",{target:"e1ia0oo94",label:"PromoItemLoading"})("margin-bottom:",u.SPACING_4,";"),z=(0,f.default)("div",{target:"e1ia0oo93",label:"LoadingImage"})("background:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";width:100%;@media (min-width: ",b.c0,"){height:",(0,g.s)(110),";}@media (min-width: ",b.TN,"){height:",(0,g.s)(140),";}@media (min-width: ",b.O9,"){height:",(0,g.s)(160),";}@media (min-width: ",b.lK,"){height:",(0,g.s)(180),";}"),M=(0,f.default)("div",{target:"e1ia0oo92",label:"LoadingText"})("background:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";margin-top:",u.SPACING_2,";height:",(0,g.s)(24),";width:",(e=>{var{width:t}=e;return"".concat(t,"%")}),";"),q=(0,f.default)("div",{target:"e1ia0oo91",label:"LoadingHeading"})("background:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";margin-top:0;@media (min-width: ",b.c0,"){height:",(0,g.s)(22),";}@media (min-width: ",b.TN,"){height:",(0,g.s)(24),";}"),J=(0,f.default)("div",{target:"e1ia0oo90",label:"PromosLoadingWrapper"})({name:"1xyc2b2",styles:"html.no-js &{display:none;}"}),Z=e=>{var{id:t,limit:r,hasMaxReadableWidth:a,columnsByBreakpoint:o,sizeByBreakpoint:c,marginsByBreakpoint:s,paddingsByBreakpoint:l}=e;return n.createElement(J,null,n.createElement(i.Z,{id:"".concat(t,"-label")},"loading ".concat(t," stories")),n.createElement(A,{"data-component":"".concat(t,"-loading"),"aria-hidden":"true",sizeByBreakpoint:c,marginsByBreakpoint:s,paddingsByBreakpoint:l},n.createElement(q,null),n.createElement(N,{numberOfItems:r,hasMaxReadableWidth:a,columnsByBreakpoint:o},n.createElement(y.Z,{as:"ul"},[...Array(r)].map(((e,t)=>n.createElement(U,{key:t,"data-component":"promo-item-loading"},n.createElement(z,null),n.createElement(M,{width:100}),n.createElement(M,{width:50}))))))))},F=e=>{var{experimentationData:t,children:r}=e,i=G(e,D);return t?n.createElement(l.f,{experimentation:{view:t}},(e=>{var{trackRef:t}=e;return n.createElement("div",R({ref:t},i),r)})):r},V=e=>{var{data:{promos:t=[],disclaimer:r,sectionHeader:i}={},id:u,showImage:p,enableDotcomAds:m,insertAdSlotAtIndex:d,sizeByBreakpoint:g,marginsByBreakpoint:b={base:{top:"4",bottom:"6"}},paddingsByBreakpoint:h={base:{top:"3"}},promoPaddingsByBreakpoint:v,promoMarginsByBreakpoint:f={base:{bottom:"4"}},promoSize:w,promoWithRowDividerTop:x=!1,promoRowDividerColor:k="grey-5",hasMaxReadableWidth:B,columnsByBreakpoint:S={base:1},isRanking:j,showLoadingState:E,imageLoading:I="lazy",limit:D,promoIsContained:T=!0,sectionHeaderFontScale:L="indexHeadlineMedium",headingExperimentationData:R}=e;return!E||null!=t&&t.length?null!=t&&t.length?n.createElement(A,{"data-component":u,sizeByBreakpoint:g,marginsByBreakpoint:b,paddingsByBreakpoint:h},n.createElement(F,{experimentationData:R},n.createElement(a.Z,{id:"".concat(u,"-label"),level:"2",fontScale:L},i)),n.createElement(N,{numberOfItems:t.length,hasMaxReadableWidth:B,columnsByBreakpoint:S},n.createElement(y.Z,{as:j?"ol":"ul"},t.map(((e,t)=>{var{description:r,experimentation:i,headline:a,image:c,isLive:s,metadataStripItems:u=[],pageTypeIndicator:g,rank:b,size:h=w,tracking:y,url:B,service:S}=e,E=()=>m&&t===d?n.createElement(_,{className:"dotcom-ad-container",hidden:!0,promoMarginsByBreakpoint:f,promoPaddingsByBreakpoint:v,promoWithRowDividerTop:x,promoRowDividerColor:k},n.createElement(P.Z,{slotType:"infeed_news_story",enable:m})):null;return n.createElement(l.f,{tracking:y,experimentation:i,key:t},(e=>{var{trackRef:i}=e;return n.createElement(n.Fragment,null,n.createElement(E,{key:"".concat(t,"-DotcomAdSlotInfeed")}),n.createElement(_,{ref:i,key:t,promoMarginsByBreakpoint:f,promoPaddingsByBreakpoint:v,promoWithRowDividerTop:x,promoRowDividerColor:k},j?n.createElement(O.Z,{headline:a,rank:b,url:B,isContained:T,pageTypeIndicator:g,metadataStripItems:u.length?u:void 0,service:S}):n.createElement(o.Z,{description:r,headline:a,image:p&&c?C(C({},c),{},{loading:I}):void 0,metadataStripItems:u.length?u:void 0,pageTypeIndicator:g,size:h,url:B,live:s,isContained:T,service:S})))}))}))),r&&n.createElement(W,{"data-component":"".concat(u,"-disclaimer")},n.createElement(c.Z,{url:r.url},n.createElement(H,null,n.createElement(s.Z,{type:"labels:info"})),r.text)))):null:n.createElement(Z,{id:u,limit:D,hasMaxReadableWidth:B,columnsByBreakpoint:S,sizeByBreakpoint:g,marginsByBreakpoint:b,paddingsByBreakpoint:h})}},86460:function(e,t,r){r.r(t),r.d(t,{default:function(){return A}});var n=r(77707),i=r(76405),a=r(64217),o=r(81943),c={"en-GB":{attribution:"Attribution",audio:"Audio",video:"Video",published:"Published"},cy:{attribution:"Adran y stori",audio:"Sain",video:"Fideo",published:"Cyhoeddwyd"},gd:{attribution:"Buaidh-aithris",audio:"Clàr-fuaime",video:"Bhideo",published:"Air fhoillseachadh"}},s=(e,t)=>{switch(e){case"audio":return{iconType:"content-types:audio",altText:c[t].audio};case"video":return{iconType:"playback-avkx:play",altText:c[t].video};default:return}},l={iplayer:"iPlayer",sounds:"Sounds",news:"News",sport:"Sport",weather:"Weather",bitesize:"Bitesize"},u="BBC",p=e=>{var t;return"/"===e.charAt(0)?(t=e.split("/")[1],l[t]||u):(e=>{try{var{host:t,pathname:r}=new URL(e);if(!/((bbc|bbci|bbcrewind)(?:\.co\.uk|\.com))/i.test(t))return u;var n=r.split("/")[1];return l[n]}catch(i){return u}})(e)},m=e=>{if(!e.startsWith("https://www.bbc.co")&&!e.startsWith("http://www.bbc.co")&&!e.startsWith("/"))return"";var{pathname:t}=new URL(e,"https://www.bbc.co.uk");return t.split("/")[1]},d=e=>{var{index:t,label:r,url:n,id:i,container:a,containerIndex:o=1}=e,c={};return"regionalIndexExternalLinks"===i?c.POS="external-bottom-".concat(t,"-LinkStory"):(c.PAR="".concat(a,"::").concat(o),c.CHD="promo::".concat(t)),c.EXT=(e=>!!["regionalIndexExternalLinks","blogsThePapers"].includes(e))(i)?1:0,{container:a,label:r,url:n,source:m(n),metadata:c}},g=216,b=385;function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=(e,t)=>{var{summaries:r}=e,{atiContainerId:l,experimentation:u,groupEngineStats:h,groupName:v,groupPosition:f,groupResourceId:w,groupType:O,id:P,language:x,limit:k,showImage:B,showDescription:S,showTimestamp:j,showCommentsCount:E,showSubscriptionLabel:I,showExternalLabel:D,service:T,isUk:C}=t,L=[];return(k?r.slice(0,k):r).map(((e,t)=>{var k,{titles:R,images:G,link:{url:A},dates:{lastPublished:N},descriptions:_,type:W,isLive:H,urn:U,commentsCount:z,home:M,flags:q}=e;if(L.includes(U))return n.vU("Content summaries transformer received data that contains duplicate items for the following urn: ".concat(U)),null;L.push(U);var J,Z=[],F=(0,o.Vd)(M),V=p(A);(0,o.uH)(T,F,C)&&Z.push({iconType:"service-identifiers:".concat(F),text:V,url:"https://www.bbc.co.uk/".concat(F),type:"attribution",label:c[x].attribution}),j&&!H&&N&&Z.push({label:c[x].published,text:(0,i.x)(N,{language:x})}),E&&z&&Z.push({label:"Comments",iconType:"participate:comments",text:z}),B&&G&&G.length&&(J={alt:G[0].altText,src:G[0].url,height:g,width:b}),!B||G&&G.length||(J={src:"https://ichef.bbci.co.uk/images/ic/400xn/p0b36kgx.png",alt:"Placeholder BBC logo",height:g,width:b}),D&&!/^(?:#(?:[^.]+\.)*)|(?:\/\/|https?:\/\/)?(?:[^.]+\.)*((bbc|bbci)(?:\.co\.uk|\.com|\.in))(:|\/|$)/.test(A)&&Z.push({label:"External link",text:"External link"}),I&&null!=q&&q.isSubscription&&Z.push({label:"Subscription",text:"Subscription"});var X=R.find((e=>"primary"===e.type)).title,K=y(y({},d({id:P,container:l,label:X,index:t+1,url:A})),(0,a.XP)({groupEngineStats:h,groupName:v,groupPosition:f,groupResourceId:w,groupType:O||"promo group",groupItemCount:r.length,url:A,type:W,itemPosition:t,itemResourceId:U,headline:X,metadataStripItems:[{label:"Attribution",text:m(A)}]}));return{description:S?null==_||null===(k=_[0])||void 0===k?void 0:k.text:void 0,experimentation:u,headline:X,image:J,isLive:H,metadataStripItems:Z.length?Z:void 0,tracking:K,pageTypeIndicator:s(W,x),url:A,service:F}})).filter(Boolean)};function w(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,i)}var O=function(){var e,t=(e=function*(e,t){var{analyticsDataSource:r,analyticsGroupEngineStats:n,analyticsGroupType:i,analyticsGroupPosition:a,disclaimer:o,experimentation:c,id:s,isUk:l,language:u,limit:p,sectionHeader:m,showDescription:d,showImage:g,showTimestamp:b,showCommentsCount:h,showSubscriptionLabel:y,showExternalLabel:v,service:w,urn:O}=e,{fablRequest:P}=t,x=r?"".concat(r.toLowerCase(),"_").concat(s,"_").concat(O):void 0,k={urn:O,pageSize:p},B={};Object.keys(k).forEach((e=>{var t=k[e];(t||"boolean"==typeof t)&&(B[e]=t)}));var{data:S}=yield P("content-summaries",B);if(!S.summaries.length)throw new Error("Content summaries FABL module returned an empty summaries array for ".concat(JSON.stringify(B)));return{promos:f(S,{atiContainerId:x,experimentation:c,groupEngineStats:n,groupName:r?"".concat(r," ").concat(m.text):"".concat(m.text),groupPosition:a,groupResourceId:O,groupType:i,id:s,language:u,limit:p,showDescription:d,showImage:g,showTimestamp:b,showCommentsCount:h,showSubscriptionLabel:y,showExternalLabel:v,urn:O,service:w,isUk:l}),disclaimer:o,sectionHeader:m.text}},function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){w(a,n,i,o,c,"next",e)}function c(e){w(a,n,i,o,c,"throw",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),P=O;function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=e=>{switch(e){case"video":return"video";case"audio":return"audio";case"link":return"link";default:return"article"}},j=(e,t)=>{var{items:r}=e,{atiContainerId:n,experimentation:l,groupEngineStats:u,groupName:h,groupPosition:y,groupType:v,groupResourceId:f,id:w,isUk:O,language:P,service:x,showDescription:B,showImage:j,showTimestamp:E}=t;return r.map(((e,t)=>{var I,{headlines:D,image:T,isLive:C,rank:L,summary:R,timestamp:G,metadataStripItems:A=[],type:N,url:_}=e,W=p(_),H=(0,o.Vd)(W);(0,o.uH)(x,W,O)&&A.push({iconType:"service-identifiers:".concat(H),text:W,url:"https://www.bbc.co.uk/".concat(H),type:"attribution",label:c[P].attribution}),E&&!C&&G&&A.push({label:c[P].published,text:(0,i.x)(G,{language:P})}),j&&T&&(I={alt:T.alt,height:g,src:T.url,width:b}),j&&!T&&(I={src:"https://ichef.bbci.co.uk/images/ic/400xn/p0b36kgx.png",alt:"Placeholder BBC logo",height:g,width:b});var U=D.overtyped||D.shortHeadline||D.headline,z=k(k({},d({id:w,container:n,label:U,index:t+1,url:_})),(0,a.XP)({groupEngineStats:u,groupName:h,groupPosition:y,groupType:v||"promo group",groupItemCount:r.length,groupResourceId:f,url:_,itemPosition:t,type:S(N),headline:U,metadataStripItems:[{label:"Attribution",text:m(_)}]}));return{description:B?R:void 0,experimentation:l,headline:U,image:I,isLive:C,tracking:z,metadataStripItems:A,pageTypeIndicator:s(N,P),rank:L,url:_,service:H}})).filter((e=>e.headline))};function E(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,i)}var I=function(){var e,t=(e=function*(e,t){var{analyticsDataSource:r,analyticsGroupEngineStats:n,analyticsGroupType:i,analyticsGroupPosition:a,country:o,disclaimer:c,edition:s,experimentation:l,expiresInMs:u,id:p,language:m,limit:d,section:g,sectionHeader:b,showDescription:h,showImage:y,showTimestamp:v,service:f,isUk:w,urn:O}=e,{fablRequest:P}=t,x=r?"".concat(r.toLowerCase(),"_").concat(p):void 0,k={id:p,country:o,edition:s,section:g,limit:d},B={};Object.keys(k).forEach((e=>{var t=k[e];(t||"boolean"==typeof t)&&(B[e]=t)}));var S,E,{data:I}=yield P("onward-journeys",B);if(!I.items.length)throw new Error("Onward Journeys FABL module returned an empty items array for ".concat(JSON.stringify(B)));if(S=I.generated,(E=u)&&S&&(new Date).getTime()-S>E)throw new Error("Onward Journeys FABL Module returned stale content for ".concat(JSON.stringify(B)));return{promos:j(I,{atiContainerId:x,experimentation:l,groupEngineStats:n,groupName:r?"".concat(r," ").concat(b.text):"".concat(b.text),groupType:i,groupPosition:a,groupResourceId:O,id:p,language:m,showDescription:h,showImage:y,showTimestamp:v,service:f,isUk:w}),disclaimer:c,sectionHeader:b.text}},function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){E(a,n,i,o,c,"next",e)}function c(e){E(a,n,i,o,c,"throw",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),D=I;function T(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,i)}var C=function(){var e,t=(e=function*(e,t){var r,{analyticsDataSource:i,analyticsGroupEngineStats:a,analyticsGroupType:o,analyticsGroupPosition:c,country:s,disclaimer:l,experimentation:u,expiresInMs:p,id:m,language:d,limit:g,section:b,sectionHeader:h,showDescription:y,showImage:v,showTimestamp:f,urn:w,service:O,isUk:x}=e,{fablRequest:k,isPersonalised:B}=t,S=w,j={text:h.text};if(B)try{var E;S=null===(E=(yield k("personalised-curations",{id:m,personalisationEnabled:!0})).data)||void 0===E?void 0:E.urn,r=l,j.text=h.personalised}catch(I){n.vU(I)}return S?P({analyticsDataSource:i,analyticsGroupEngineStats:a,analyticsGroupType:o,analyticsGroupPosition:c,disclaimer:r,experimentation:u,id:m,language:d,limit:g,sectionHeader:j,showDescription:y,showImage:v,showTimestamp:f,urn:S,service:O,isUk:x},{fablRequest:k}):D({analyticsDataSource:i,analyticsGroupEngineStats:a,analyticsGroupType:o,analyticsGroupPosition:c,country:s,experimentation:u,expiresInMs:p,id:m,language:d,limit:g,section:b,sectionHeader:j,showDescription:y,showImage:v,showTimestamp:f,service:O,isUk:x},{fablRequest:k})},function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){T(a,n,i,o,c,"next",e)}function c(e){T(a,n,i,o,c,"throw",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),L=C;function R(e,t,r,n,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void r(l)}c.done?t(s):Promise.resolve(s).then(n,i)}var G=function(){var e,t=(e=function*(e,t){var{analyticsDataSource:r,analyticsGroupEngineStats:i,analyticsGroupType:a,analyticsGroupPosition:o,disclaimer:c,experimentation:s,id:l,language:u,limit:p,sectionHeader:m,showDescription:d,showImage:g,showTimestamp:b,service:h,isUk:y}=e,{fablRequest:v,isPersonalised:f}=t;if(!f)return{};try{var{data:{urn:w}}=yield v("personalised-curations",{id:l,personalisationEnabled:!0});return P({analyticsDataSource:r,analyticsGroupEngineStats:i,analyticsGroupType:a,analyticsGroupPosition:o,disclaimer:c,experimentation:s,id:l,language:u,limit:p,sectionHeader:m,showDescription:d,showImage:g,showTimestamp:b,urn:w,service:h,isUk:y},{fablRequest:v})}catch(O){return n.vU(O),{}}},function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){R(a,n,i,o,c,"next",e)}function c(e){R(a,n,i,o,c,"throw",e)}o(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),A={contentSummaries:P,onwardJourneys:D,personalisedWithFallback:L,personalised:G}}}]);